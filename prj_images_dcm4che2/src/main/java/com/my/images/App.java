package com.my.images;

/**
 * Hello world!
 *
 */
public class App
{
    public static void main(String[] args)
    {
        System.out.println("Hello World!");

        // DecimalFormat df4 = new DecimalFormat("0.0000");
        //
        // System.out.println(df4.format(1.234567890));
        // System.out.println(Double.parseDouble(df4.format(1.22300000000001)));

        // System.out.println(App.fmt4f("0.123456789"));
        // System.out.println(App.fmt4f("1.00000001"));
        // System.out.println(App.fmt4f("1.00"));
        // System.out.println(App.fmt4f("1.123456"));
        // System.out.println(App.fmt4f("1"));
        // System.out.println(App.fmt4f("1d"));

        /*@formatter:off*/
        byte[] lenByte = new byte[] {

                0,0,-1,-6,14,18,17,18,19,19,18,17,19,20,18,19,17,24,22,23,25,25,25,17,20,18,17,19,21,23,22,23,20,19,24,21,21,18,20,22,26,25,20,18,18,22,20,21,18,23,35,61,87,105,118,123,112,93,80,81,86,99,114,-126,-112,-101,-83,-63,-44,-45,-84,125,-110,57,101,-122,25,40,9,-21,-47,-54,-30,2,26,40,37,40,60,95,-46,-38,53,14,7,124,-4,-37,-1,98,-26,57,-104,60,11,114,60,41,34,31,26,26,27,33,34,29,32,38,44,47,54,57,46,40,36,34,33,33,33,33,35,44,51,52,53,51,46,40,33,31,34,33,36,36,33,31,34,38,38,34,45,47,44,43,41,41,38,38,38,38,38,35,39,41,37,39,39,36,35,31,31,31,30,31,35,43,45,45,47,42,38,40,38,41,40,37,39,41,42,43,44,46,48,40,39,39,41,39,38,40,42,42,38,37,38,40,36,34,37,35,37,38,38,34,33,31,28,30,29,27,35,39,41,47,48,44,37,29,23,21,19,13,14,14,21,28,25,29,38,44,43,36,32,33,34,39,48,48,39,26,20,16,11,10,15,17,20,25,35,36,35,40,43,42,39,34,35,34,33,33,32,33,33,32,32,37,37,35,31,34,40,38,33,37,35,35,38,37,36,39,41,42,37,43,44,44,46,44,39,39,43,43,43,40,39,38,46,50,49,46,41,40,37,31,30,32,35,35,36,39,38,36,37,42,60,72,75,74,75,73,71,69,58,42,36,40,39,36,34,31,35,39,36,36,39,39,36,38,38,38,38,38,40,41,42,38,38,40,35,32,32,29,26,25,24,20,19,18,17,13,13,14,14,30,59,115,15,82,-103,23,-103,-34,34,-96,-105,-1,-52,-36,100,-108,-32,-69,90,65,59,34,-6,-57,-77,-64,-24,20,51,29,-102,103,41,-123,107,108,93,74,71,85,100,100,94,85,75,68,73,73,76,100,116,119,111,90,56,29,19,14,12,15,16,17,17,18,12,18,15,19,24,22

        };
        System.out.println("lenByte[] len: " + lenByte.length);

        byte[] bs = new byte[] {
                -1,0,17,-1,-6,14,18,17,18,19,19,18,17,19,20,18,19,17,24,22,23,-2,25,102,17,20,18,17,19,21,23,22,23,20,19,24,21,21,18,20,22,26,25,20,18,18,22,20,21,18,23,35,61,87,105,118,123,112,93,80,81,86,99,114,-126,-112,-101,-83,-63,-44,-45,-84,125,-110,57,101,-122,25,40,9,-21,-47,-54,-30,2,26,40,37,40,60,95,-46,-38,53,14,7,124,-4,-37,-1,98,-26,57,-104,60,11,114,60,41,34,31,26,26,27,33,34,29,32,38,44,47,54,57,46,40,36,34,-3,33,25,35,44,51,52,53,51,46,40,33,31,34,33,36,36,33,31,34,38,38,34,45,47,44,43,41,41,-4,38,7,35,39,41,37,39,39,36,35,-2,31,127,30,31,35,43,45,45,47,42,38,40,38,41,40,37,39,41,42,43,44,46,48,40,39,39,41,39,38,40,42,42,38,37,38,40,36,34,37,35,37,38,38,34,33,31,28,30,29,27,35,39,41,47,48,44,37,29,23,21,19,13,14,14,21,28,25,29,38,44,43,36,32,33,34,39,48,48,39,26,20,16,11,10,15,17,20,25,35,36,35,40,43,42,39,34,35,34,33,33,32,33,33,32,32,37,37,35,31,34,40,38,33,37,35,35,38,37,36,39,41,42,37,43,44,44,46,44,39,39,-2,43,43,40,39,38,46,50,49,46,41,40,37,31,30,32,35,35,36,39,38,36,37,42,60,72,75,74,75,73,71,69,58,42,36,40,39,36,34,31,35,39,36,36,39,39,36,-4,38,116,40,41,
                42,38,38,40,35,32,32,29,26,25,24,20,19,18,17,13,13,14,14,30,59,115,15,82,-103,23,-103,-34,34,-96,-105,-1,-52,-36,100,-108,-32,-69,90,65,59,34,-6,-57,-77,-64,-24,20,51,29,-102,103,41,-123,107,108,93,74,71,85,100,100,94,85,75,68,73,73,76,100,116,119,111,90,56,29,19,14,12,15,16,17,17,18,12,18,15,19,24,22,18,19,20,25,20,17,16,18,19,20,23,23,20,22,20,18,19,21,18,18,16,19,22,21,24,-2,21
        };
        /*@formatter:on*/
        System.out.println("byte[] len: " + bs.length);

        int total = 0;
        for (int i = 0; i < bs.length; i++)
        {
            byte b = bs[i];
            if (b < 0)
            {
                total += -b + 1;
                i = i + 1;
            }

            if (b >= 0)
            {
                total += b + 1;
                i = i + b + 1;
            }
        }
        System.out.println("total: " + total);

    }

    private static String fmt4f(String floatStr)
    {
        try
        {
            // return String.format("%.4f", Float.valueOf(floatStr));
            return App.fmtFloatNoMoreThan4f(Float.valueOf(floatStr));
        }
        catch (Exception e)
        {
            e.printStackTrace();
            return floatStr;
        }
    }

    private static String fmtFloatNoMoreThan4f(float f)
    {
        String s = String.format("%.4f", f);
        // int endIdx = s.length();
        // int idx = s.indexOf(".");
        // for (int i = s.length() - 1; i >= idx + 2; i--)
        // {
        // char ch = s.charAt(i);
        // if (ch == '0')
        // {
        // endIdx--;
        // }
        // }
        //
        // return s.substring(0, endIdx);
        return String.valueOf(Float.parseFloat(s));
    }
}
