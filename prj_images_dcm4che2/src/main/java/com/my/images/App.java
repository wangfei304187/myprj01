package com.my.images;

/**
 * Hello world!
 *
 */
public class App
{
    public static void main(String[] args)
    {
        System.out.println("Hello World!");

        // DecimalFormat df4 = new DecimalFormat("0.0000");
        //
        // System.out.println(df4.format(1.234567890));
        // System.out.println(Double.parseDouble(df4.format(1.22300000000001)));

        // System.out.println(App.fmt4f("0.123456789"));
        // System.out.println(App.fmt4f("1.00000001"));
        // System.out.println(App.fmt4f("1.00"));
        // System.out.println(App.fmt4f("1.123456"));
        // System.out.println(App.fmt4f("1"));
        // System.out.println(App.fmt4f("1d"));

        /*@formatter:off*/
        byte[] lenByte = new byte[] {

                -127, 0, 0, 0, 78, -2, -9, -1, 7, 14, 13, 14, 20, 20, 18, 19, 18, 19, 21, 20, 21, 19, 21, 23, 24, 24, 19, 19, 16, 21, 25, 22, 18, 15, 21, 24, 19, 20, 22, 24, 22, 21, 26, 17, 17, 18, 21, 22, 24, 25, 24, 23, 23, 20, 21, 25, 22, 25, 24, 23, 19, 21, 24, 20, 22, 20, 22, 19, 15, 22, 21, 18, 17, 20, 17, 15, 18, 17, 19, 17, 14, 18, 23, 25, -2, 20, 36, 21, 24, 19, 19, 29, 24, 20, 25, 24, 22, 21, 24, 24, 18, 18, 22, 25, 22, 21, 20, 23, 25, 23, 16, 20, 22, 21, 21, 24, 24, 18, 21, 25, 22, 25, 22, 19, -2, 23, 84, 21, 22, 25, 22, 18, 20, 21, 18, 17, 19, 20, 15, 19, 18, 17, 19, 14, 18, 15, 13, 19, 19, 21, 23, 17, 17, 24, 19, 18, 22, 19, 20, 24, 21, 22, 23, 25, 23, 22, 18, 20, 20, 24, 21, 17, 23, 17, 16, 23, 21, 18, 17, 22, 18, 17, 20, 21, 21, 27, 16, 18, 15, 13, 16, 17, 19, 15, 17, 19, 23, 21, 22, 23, 24, 24, 23, 20, 27, 25, 25, 26, 25, 26, 27, 23, -3, 22, 24, 26, 24, 23, 24, 23, 24, 21, 18, 19, 20, 19, 26, 23, 16, 20, 19, 23, 22, 23, 23, 22, 23, 21, 19, 21, -2, 18, 14, 19, 22, 18, 15, 15, 13, 12, 14, 9, 9, 12, 12, 14, 13, 26, -127, 0, 0, 0
        };
        System.out.println("lenByte[] len: " + lenByte.length);

        byte[] bs = new byte[] {
                11,0,0,-1,18,16,17,18,18,20,18,21,22,-2,19,127,20,22,23,24,21,21,24,25,27,22,17,15,19,18,19,15,20,20,22,21,21,19,15,18,19,16,13,14,16,21,22,25,35,59,86,107,109,116,108,88,75,63,59,63,82,110,-125,-115,-98,-71,-34,-6,5,-16,-72,-77,83,-112,-101,25,40,14,-23,-53,-59,-37,5,34,46,42,45,64,-109,-121,25,123,-70,8,65,-24,-4,105,-26,-14,-29,125,-106,62,33,21,23,31,32,35,36,35,35,32,28,32,33,34,42,41,38,38,36,36,37,39,40,46,52,53,47,40,38,45,46,43,39,32,29,26,27,37,46,53,8,61,65,53,39,28,22,24,26,31,-2,34,2,38,34,34,-2,37,46,36,35,31,34,32,31,36,39,31,29,35,34,38,49,52,45,44,43,41,39,38,40,43,44,46,50,45,41,38,39,42,37,36,40,37,38,37,36,38,40,39,40,42,39,37,38,39,-2,36,8,31,34,35,34,33,33,36,34,29,-2,31,65,36,35,35,36,36,40,40,38,38,37,44,45,39,49,54,56,47,36,28,20,19,23,26,33,40,39,41,38,40,40,43,49,48,46,42,37,36,34,31,35,31,34,35,31,33,38,38,33,30,33,33,37,39,34,30,36,39,36,34,38,41,38,34,36,39,42,-2,39,127,40,45,42,42,47,44,47,44,47,49,45,45,44,42,41,43,42,38,36,38,34,33,34,30,36,38,41,43,46,47,44,44,42,39,44,42,34,34,38,47,59,65,63,58,51,40,36,37,32,31,33,33,35,38,35,37,
                39,38,34,32,33,30,30,29,33,29,23,22,23,30,35,33,29,28,29,23,19,21,23,24,21,25,24,24,32,51,98,-44,-45,28,-31,-69,41,-102,88,-106,100,108,-90,-104,-66,-93,61,65,50,45,15,-24,-48,-32,4,33,58,37,-115,92,18,111,75,76,88,90,93,104,113,119,109,86,91,65,49,45,49,63,82,108,121,120,109,85,53,28,16,15,15,14,13,18,21,16,18,15,14,15,16,16,18,17,19,19,17,19,19,20,21,21,16,14,16,21,23,22,19,16,17,19,20,18,17,19,22,23,25,20,21,20,19,21,19,21,18,24,23,22,20,21,18,20,23,23,19,20,22,25,25,23,20,19,20,19,20,21,17,18,15,13,10,13,16,34,0

        };
        /*@formatter:on*/
        System.out.println("byte[] len: " + bs.length);

        int total = 0;
        for (int i = 0; i < bs.length; i++)
        {
            byte b = bs[i];
            if (b < 0)
            {
                total += -b + 1;
                i = i + 1;
            }

            if (b >= 0)
            {
                total += b + 1;
                i = i + b + 1;
            }
        }
        System.out.println("total: " + total);

    }

    private static String fmt4f(String floatStr)
    {
        try
        {
            // return String.format("%.4f", Float.valueOf(floatStr));
            return App.fmtFloatNoMoreThan4f(Float.valueOf(floatStr));
        }
        catch (Exception e)
        {
            e.printStackTrace();
            return floatStr;
        }
    }

    private static String fmtFloatNoMoreThan4f(float f)
    {
        String s = String.format("%.4f", f);
        // int endIdx = s.length();
        // int idx = s.indexOf(".");
        // for (int i = s.length() - 1; i >= idx + 2; i--)
        // {
        // char ch = s.charAt(i);
        // if (ch == '0')
        // {
        // endIdx--;
        // }
        // }
        //
        // return s.substring(0, endIdx);
        return String.valueOf(Float.parseFloat(s));
    }
}
