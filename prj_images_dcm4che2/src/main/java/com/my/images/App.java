package com.my.images;

/**
 * Hello world!
 *
 */
public class App
{
    public static void main(String[] args)
    {
        System.out.println("Hello World!");

        // DecimalFormat df4 = new DecimalFormat("0.0000");
        //
        // System.out.println(df4.format(1.234567890));
        // System.out.println(Double.parseDouble(df4.format(1.22300000000001)));

        // System.out.println(App.fmt4f("0.123456789"));
        // System.out.println(App.fmt4f("1.00000001"));
        // System.out.println(App.fmt4f("1.00"));
        // System.out.println(App.fmt4f("1.123456"));
        // System.out.println(App.fmt4f("1"));
        // System.out.println(App.fmt4f("1d"));

        /*@formatter:off*/
        byte[] lenByte = new byte[] {
                0,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,40,31,24,14,10,21,28,35,42,39,36,34,32,35,38,40,40,41,40,39,35,32,24,18,11,8,12,26,40,44,47,46,45,42,42,43,41,37,36,36,36,38,38,29,18,11,8,4,6,12,18,28,39,45,46,48,45,39,37,40,44,46,45,44,35,26,19,18,17,19,24,27,27,21,11,9,11,11,16,24,35,39,38,36,36,36,36,37,43,47,50,43,39,34,32,32,33,33,28,21,15,15,17,20,24,30,34,39,43,39,35,31,28,28,28,27,28,29,27,24,23,23,22,23,24,27,31,36,40,44,41,38,35,33,29,28,27,25,26,28,27,25,24,24,25,27,27,26,26,27,25,25,30,32,35,35,36,38,40,44,46,48,49,50,51,52,48,45,41,39,37,35,35,33,32,33,34,34,37,39,42,43,43,43,44,44,44,44,43,42,41,41,40,41,41,40,42,43,43,44,44,44,42,41,40,37,36,36,36,36,35,34,33,33,34,35,37,38,40,42,44,46,47,48,48,52,54,54,54,54,54,55,54,52,51,52,50,48,46,45,43,41,41,40,40,40,39,36,36,38,41,42,45,48,48,52,56,60,59,58,56,54,52,51,49,49,47,43,41,39,38,36,34,34,36,39,40,40,40,40,40,41,41,40,44,48,50,53,55,53,49,42,38,32,33,36,39,41,44,44,43,43,43,38,31,24,17,14,10,9,8,11,15,18,20,19,18,17,16,16,16,16,21,29,36,42,41,37,33,32,33,36,40,38,38,39,33,24,16,10,8,7,6,6,7,9,16,21,24,25,25,29,36,45,44,37,29,28,30,35,37,41,41,32,23,17,10,4,5,7,9,15,21,20,20,20,26,30,31,28,24,24,25,31,36,39,
                // cnt: 440
                34,28,20,11,7,6,8,14,19,23,
                26,31,34,35,31,28,26,24,27,32,
                34,34,29,17,8, 10,12,20,26,27,
                // cnt: 470
                30,27,24,21,17,18,22,24,0,
                0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
                0
        };
        System.out.println("lenByte[] len: " + lenByte.length);

        byte[] bs = new byte[] {
                1,0,46,-14,46,-35,0,16,44,40,31,24,14,10,21,28,35,42,39,36,34,32,35,38,40,17,40,41,40,39,35,32,24,18,11,8,12,26,40,44,47,46,45,42,4,42,43,41,37,36,-1,36,-1,38,28,29,18,11,8,4,6,12,18,28,39,45,46,48,45,39,37,40,44,46,45,44,35,26,19,18,17,19,24,27,4,27,21,11,9,11,6,11,16,24,35,39,38,36,-2,36,7,37,43,47,50,43,39,34,32,1,32,33,3,33,28,21,15,11,15,17,20,24,30,34,39,43,39,35,31,28,-1,28,5,27,28,29,27,24,23,21,23,22,23,24,27,31,36,40,44,41,38,35,33,29,28,27,25,26,28,27,25,24,2,24,25,27,1,27,26,2,26,27,25,3,25,30,32,35,16,35,36,38,40,44,46,48,49,50,51,52,48,45,41,39,37,35,4,35,33,32,33,34,4,34,37,39,42,43,-1,43,-3,44,2,43,42,41,2,41,40,41,3,41,40,42,43,1,43,44,-1,44,4,42,41,40,37,36,-2,36,2,35,34,33,10,33,34,35,37,38,40,42,44,46,47,48,2,48,52,54,-3,54,10,55,54,52,51,52,50,48,46,45,43,41,1,41,40,-1,40,1,39,36,5,36,38,41,42,45,48,10,48,52,56,60,59,58,56,54,52,51,49,7,49,47,43,41,39,38,36,34,3,34,36,39,40,-3,40,-1,41,15,40,44,48,50,53,55,53,49,42,38,32,33,36,39,41,44,1,44,43,-1,43,15,38,31,24,17,14,10,9,8,11,15,
                18,20,19,18,17,16,-2,16,11,21,29,36,42,41,37,33,32,33,36,40,38,8,38,39,33,24,16,10,8,7,6,6,6,7,9,16,21,24,25,11,25,29,36,45,44,37,29,28,30,35,37,41,11,41,32,23,17,10,4,5,7,9,15,21,20,-1,20,4,26,30,31,28,24,25,24,25,31,36,39,34,28,20,11,7,6,8,14,19,23,26,31,34,35,31,28,26,24,27,32,34,17,34,29,17,8,10,12,20,26,27,30
        };
        /*@formatter:on*/
        System.out.println("byte[] len: " + bs.length);
        int total = 0;
        for (int i = 0; i < bs.length; i++)
        {
            byte b = bs[i];
            if (b < 0)
            {
                total += -b + 1;
                i = i + 1;
            }

            if (b >= 0)
            {
                total += b + 1;
                i = i + b + 1;
            }
        }
        System.out.println("total: " + total);

    }

    private static String fmt4f(String floatStr)
    {
        try
        {
            // return String.format("%.4f", Float.valueOf(floatStr));
            return App.fmtFloatNoMoreThan4f(Float.valueOf(floatStr));
        }
        catch (Exception e)
        {
            e.printStackTrace();
            return floatStr;
        }
    }

    private static String fmtFloatNoMoreThan4f(float f)
    {
        String s = String.format("%.4f", f);
        // int endIdx = s.length();
        // int idx = s.indexOf(".");
        // for (int i = s.length() - 1; i >= idx + 2; i--)
        // {
        // char ch = s.charAt(i);
        // if (ch == '0')
        // {
        // endIdx--;
        // }
        // }
        //
        // return s.substring(0, endIdx);
        return String.valueOf(Float.parseFloat(s));
    }
}
